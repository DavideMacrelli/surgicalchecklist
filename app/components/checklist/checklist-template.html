<h2 id="checklist-title">{{title}}</h2>
<form class="phase" ng-repeat="phase in checklist" ng-show="$index == listState.currentPhase.phaseNumber">
    <hgroup id="phase-title">
        <h3>{{phase.title}}</h3>
        <h6>{{phase.description}}</h6>
    </hgroup>
    <fieldset class="step"
              ng-repeat="step in phase.steps"
              ng-class="{'active': $index == listState.currentPhase.currentStep,
                         'disabled': $index != listState.currentPhase.currentStep}">
        <legend>{{step.legend}}</legend><br />
        <div class="step-content">
            <div class="options">
                <div class="option" ng-click="listControls.nextStep()" ng-repeat="option in step.options" >
                    <input type="checkbox" value="test" /> {{option}}
                </div>
                <div class="clear"></div>
            </div>
            <div class="step-controls">
                <button type="button" class="signal-button" ng-click="listControls.signalNonConformity($parent.$index,$index)">Non conformit√†</button>
                <button type="button" ng-click="listControls.prevStep()">Passo precedente</button>
            </div>
            <div class="clear"></div>
        </div>
    </fieldset>
</form>
<div class="end-phase-controls" ng-show="listState.currentPhase.numberOfSteps == listState.currentPhase.currentStep" >
    <button type="button" ng-click="listControls.prevStep()">Passo precedente</button>
    <button type="button" ng-click="listControls.nextPhase()">Fase sucessiva</button>
</div>
